@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Light mode colors (default) */
  --background: #ffffff;
  --foreground: #171717;
  --background-secondary: #f9fafb;
  --foreground-secondary: #6b7280;
  --border: #e5e7eb;
  --border-secondary: #d1d5db;
  --card-background: #ffffff;
  --card-foreground: #171717;
  --muted: #f3f4f6;
  --muted-foreground: #6b7280;
  
  --font-vazirmatn: 'Vazirmatn', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  
  /* Wood theme tokens */
  --wood-grain-dark: #2b2118; /* dark walnut */
  --wood-grain-mid: #3a2b20;
  --wood-grain-light: #5a3f2a;
  --wood-accent: #c08a5c; /* warm highlight */
}

.dark {
  /* Dark mode colors */
  --background: #0a0a0a;
  --foreground: #ededed;
  --background-secondary: #1a1a1a;
  --foreground-secondary: #9ca3af;
  --border: #374151;
  --border-secondary: #4b5563;
  --card-background: #1a1a1a;
  --card-foreground: #ededed;
  --muted: #374151;
  --muted-foreground: #9ca3af;
}

/* Persian/Arabic text rendering optimization */
html {
  font-feature-settings: 'ss01', 'ss02', 'ss03', 'ss04', 'ss05', 'ss06', 'ss07', 'ss08', 'ss09', 'ss10', 'ss11', 'ss12', 'ss13', 'ss14', 'ss15', 'ss16', 'ss17', 'ss18', 'ss19', 'ss20';
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-vazirmatn), system-ui, sans-serif;
  font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1;
  text-rendering: optimizeLegibility;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* RTL text optimization */
[dir="rtl"] {
  text-align: right;
  font-feature-settings: 'ss01', 'ss02', 'ss03', 'ss04', 'ss05', 'ss06', 'ss07', 'ss08', 'ss09', 'ss10', 'ss11', 'ss12', 'ss13', 'ss14', 'ss15', 'ss16', 'ss17', 'ss18', 'ss19', 'ss20';
}

/* Persian number optimization */
[lang="fa"] {
  font-feature-settings: 'ss01', 'ss02', 'ss03', 'ss04', 'ss05', 'ss06', 'ss07', 'ss08', 'ss09', 'ss10', 'ss11', 'ss12', 'ss13', 'ss14', 'ss15', 'ss16', 'ss17', 'ss18', 'ss19', 'ss20';
}

/* Global layout conflict prevention */
.admin-panel-container,
.admin-layout-wrapper {
  position: relative;
  z-index: 9999 !important;
  isolation: isolate;
}

/* Ensure admin panel is completely isolated */
.admin-panel-container *,
.admin-layout-wrapper * {
  box-sizing: border-box;
}

/* Prevent main platform elements from interfering with admin panel */
.admin-panel-container ~ *,
.admin-layout-wrapper ~ * {
  display: none !important;
}

/* Ensure proper stacking context for admin panel */
.admin-panel-container,
.admin-layout-wrapper {
  transform: translateZ(0);
  will-change: transform;
}

/* Hide main header when admin panel is active */
.admin-panel-container ~ .main-header,
.admin-layout-wrapper ~ .main-header {
  display: none !important;
}

/* Fix any potential overflow issues */
.admin-panel-container,
.admin-layout-wrapper {
  overflow: visible;
}

/* Ensure admin panel components don't inherit unwanted styles */
.admin-panel-container *,
.admin-layout-wrapper * {
  font-family: inherit !important;
  line-height: inherit !important;
}

/* =============================================================================
   Wood Grain Utilities (subtle, performant, no external assets)
   ------------------------------------------------------------------------- */
.bg-wood-grain {
  /* layered linear-gradients to simulate organic wood rings */
  background-color: var(--wood-grain-mid);
  background-image:
    radial-gradient(
      circle at 30% 40%,
      rgba(255, 255, 255, 0.06) 0%,
      rgba(255, 255, 255, 0) 60%
    ),
    radial-gradient(
      circle at 70% 60%,
      rgba(0, 0, 0, 0.15) 0%,
      rgba(0, 0, 0, 0) 55%
    ),
    repeating-linear-gradient(
      90deg,
      var(--wood-grain-dark) 0px,
      var(--wood-grain-dark) 2px,
      var(--wood-grain-mid) 2px,
      var(--wood-grain-mid) 6px,
      var(--wood-grain-light) 6px,
      var(--wood-grain-light) 12px
    );
  background-blend-mode: overlay, overlay, normal;
}

.bg-wood-polish {
  /* glossy pass to add gentle sheen */
  position: relative;
}
.bg-wood-polish::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.08) 0%,
    rgba(255, 255, 255, 0.02) 25%,
    rgba(0, 0, 0, 0) 60%
  );
  pointer-events: none;
}

.border-wood {
  border-color: rgba(192, 138, 92, 0.35);
}

.shadow-wood {
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.35), inset 0 0 0 1px rgba(255, 255, 255, 0.04);
}

.ring-wood {
  box-shadow: 0 0 0 1px rgba(192, 138, 92, 0.4) inset;
}

.text-wood-accent { color: var(--wood-accent); }
.bg-wood-accent { background-color: var(--wood-accent); }

/* =============================================================================
   Select and Option Styling for Better Readability
   ------------------------------------------------------------------------- */
select {
  /* Ensure proper background and text colors */
  background-color: white;
  color: #111827;
  /* Ensure select dropdown arrow is visible */
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.5rem center;
  background-repeat: no-repeat;
  background-size: 1.5em 1.5em;
  padding-right: 2.5rem;
}

select:focus {
  outline: none;
}

.dark select {
  background-color: #1f2937;
  color: #f9fafb;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%9ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
}

/* Option elements styling */
option {
  background-color: white;
  color: #111827;
  padding: 0.5rem;
}

.dark option {
  background-color: #1f2937;
  color: #f9fafb;
}

/* =============================================================================
   Scroll Animation Utilities (Float & Reveal)
   ------------------------------------------------------------------------- */
@keyframes float-soft {
  0% {
    transform: translate3d(0, 0, 0);
  }
  50% {
    transform: translate3d(0, -16px, 0);
  }
  100% {
    transform: translate3d(0, 0, 0);
  }
}

.animate-float-soft {
  animation: float-soft 12s ease-in-out infinite;
  will-change: transform;
}

.animate-float-soft-delayed {
  animation-delay: 4s;
}

.animate-float-soft-alt {
  animation: float-soft 10s ease-in-out infinite;
  animation-delay: 1.5s;
}

[data-scroll-reveal] {
  opacity: 0;
  transform: translateY(32px) scale(0.98);
  transition: opacity 0.75s ease, transform 0.85s cubic-bezier(0.22, 1, 0.36, 1);
}

[data-scroll-reveal].scroll-reveal-active {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.accent-dot,
.accent-dot-alt {
  display: inline-flex;
  height: 8px;
  width: 8px;
  border-radius: 9999px;
}

.accent-dot {
  background: linear-gradient(135deg, #ff6b35 0%, #ff8a65 100%);
  box-shadow: 0 0 0 6px rgba(255, 107, 53, 0.15);
}

.accent-dot-alt {
  background: linear-gradient(135deg, #ff8459 0%, #ffb395 100%);
  box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.25);
}

.floating-stat-card {
  transition: transform 0.4s ease, box-shadow 0.4s ease;
}

.floating-stat-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 18px 35px -25px rgba(255, 107, 53, 0.6);
}

/* Admin panel refinements */
.admin-panel-container select {
  padding-inline-end: 3rem;
}
