@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #171717;
  --font-vazirmatn: 'Vazirmatn', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  /* Wood theme tokens */
  --wood-grain-dark: #2b2118; /* dark walnut */
  --wood-grain-mid: #3a2b20;
  --wood-grain-light: #5a3f2a;
  --wood-accent: #c08a5c; /* warm highlight */
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* Persian/Arabic text rendering optimization */
html {
  font-feature-settings: 'ss01', 'ss02', 'ss03', 'ss04', 'ss05', 'ss06', 'ss07', 'ss08', 'ss09', 'ss10', 'ss11', 'ss12', 'ss13', 'ss14', 'ss15', 'ss16', 'ss17', 'ss18', 'ss19', 'ss20';
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-vazirmatn), system-ui, sans-serif;
  font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1;
  text-rendering: optimizeLegibility;
}

/* RTL text optimization */
[dir="rtl"] {
  text-align: right;
  font-feature-settings: 'ss01', 'ss02', 'ss03', 'ss04', 'ss05', 'ss06', 'ss07', 'ss08', 'ss09', 'ss10', 'ss11', 'ss12', 'ss13', 'ss14', 'ss15', 'ss16', 'ss17', 'ss18', 'ss19', 'ss20';
}

/* Persian number optimization */
[lang="fa"] {
  font-feature-settings: 'ss01', 'ss02', 'ss03', 'ss04', 'ss05', 'ss06', 'ss07', 'ss08', 'ss09', 'ss10', 'ss11', 'ss12', 'ss13', 'ss14', 'ss15', 'ss16', 'ss17', 'ss18', 'ss19', 'ss20';
}

/* Global layout conflict prevention */
.admin-panel-container,
.admin-layout-wrapper {
  position: relative;
  z-index: 9999 !important;
  isolation: isolate;
}

/* Ensure admin panel is completely isolated */
.admin-panel-container *,
.admin-layout-wrapper * {
  box-sizing: border-box;
}

/* Prevent main platform elements from interfering with admin panel */
.admin-panel-container ~ *,
.admin-layout-wrapper ~ * {
  display: none !important;
}

/* Ensure proper stacking context for admin panel */
.admin-panel-container,
.admin-layout-wrapper {
  transform: translateZ(0);
  will-change: transform;
}

/* Hide main header when admin panel is active */
.admin-panel-container ~ .main-header,
.admin-layout-wrapper ~ .main-header {
  display: none !important;
}

/* Fix any potential overflow issues */
.admin-panel-container,
.admin-layout-wrapper {
  overflow: visible;
}

/* Ensure admin panel components don't inherit unwanted styles */
.admin-panel-container *,
.admin-layout-wrapper * {
  font-family: inherit !important;
  line-height: inherit !important;
}

/* =============================================================================
   Wood Grain Utilities (subtle, performant, no external assets)
   ------------------------------------------------------------------------- */
.bg-wood-grain {
  /* layered linear-gradients to simulate organic wood rings */
  background-color: var(--wood-grain-mid);
  background-image:
    radial-gradient(
      circle at 30% 40%,
      rgba(255, 255, 255, 0.06) 0%,
      rgba(255, 255, 255, 0) 60%
    ),
    radial-gradient(
      circle at 70% 60%,
      rgba(0, 0, 0, 0.15) 0%,
      rgba(0, 0, 0, 0) 55%
    ),
    repeating-linear-gradient(
      90deg,
      var(--wood-grain-dark) 0px,
      var(--wood-grain-dark) 2px,
      var(--wood-grain-mid) 2px,
      var(--wood-grain-mid) 6px,
      var(--wood-grain-light) 6px,
      var(--wood-grain-light) 12px
    );
  background-blend-mode: overlay, overlay, normal;
}

.bg-wood-polish {
  /* glossy pass to add gentle sheen */
  position: relative;
}
.bg-wood-polish::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.08) 0%,
    rgba(255, 255, 255, 0.02) 25%,
    rgba(0, 0, 0, 0) 60%
  );
  pointer-events: none;
}

.border-wood {
  border-color: rgba(192, 138, 92, 0.35);
}

.shadow-wood {
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.35), inset 0 0 0 1px rgba(255, 255, 255, 0.04);
}

.ring-wood {
  box-shadow: 0 0 0 1px rgba(192, 138, 92, 0.4) inset;
}

.text-wood-accent { color: var(--wood-accent); }
.bg-wood-accent { background-color: var(--wood-accent); }
